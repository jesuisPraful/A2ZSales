<!--<app-common-layout></app-common-layout>-->
<div *ngIf="commonLayout">
  <app-common-layout></app-common-layout>
</div>
<div *ngIf="custLayout">
  <app-customer-layout></app-customer-layout>
</div>
<div style="text-align:center;">
  <h1>View Products</h1>
  <br />
  <div class="row">
    <div class="col-md-5" style="text-align:right">
      <label>Search :</label>
    </div>
    <div class="col-md-3">
      <input type="text" placeholder="Product name" (input)="searchProduct(productName.value)" class="form-control" #productName />
    </div>
    <div class="col-md-2" style="text-align:right">
      <label>Filter products:</label>
    </div>
    <div class="col-md-2">
      <select class="form-control"
              #categoryDropdown
              (change)="searchProductByCategory(categoryDropdown.value)">
        <option value="0">All Categories</option>
        <option *ngFor="let category of categories" value={{category.categoryId}}>
          {{category.categoryName}}
        </option>
      </select>
    </div>
  </div>
  <br />
  <div class="table-responsive">
    <table class="table"
           style="border:5px solid rgba(220,230,242,1);"
           *ngIf="filteredProducts.length>0">
      <!--; else elseBlock-->
      <tr style="background-color:rgba(220,230,242,1); font-size:12pt">
        <th style="text-align:center">Product Id</th>
        <th style="text-align:center">Product Name</th>
        <th style="text-align:center">Category Id</th>
        <th style="text-align:center">Price</th>
        <th style="text-align:center">Quantity Available</th>
        <th style="text-align:center">Action</th>
      </tr>
      <tr *ngFor="let product of filteredProducts" style="background-color:white">
        <td>{{product.productId}}</td>
        <td>{{product.productName}}</td>
        <td>{{product.categoryId}}</td>
        <td>{{product.price}}</td>
        <td>{{product.quantityAvailable}}</td>
        <td><img [src]="imgSrc" title="Add to Cart" (click)="addToCart(product)"/></td>
        <!--<td><button title="Add to Cart">Add to Cart</button></td>-->
      </tr>
    </table>
  </div>
</div>
<!--<ng-template #elseBlock>
  <h3>No products found</h3>
</ng-template>-->
<!--<div *ngIf="showMessage">
  <h3>No products found!</h3>
</div>-->
<div *ngIf="showMessage" style="">
  <h4 class="jumbotron" style="text-align:center;">No products available</h4>
</div>
